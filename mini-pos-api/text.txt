
# Mini POS API

Simple Point of Sale REST API built with Node.js + Express + Supabase. to complete the backend developer test at CAZH Inovasi Teknologi

## âœ¨ Features
- Product CRUD (create, read, update, delete)
- Process sales transactions (multi-product, with stock deduction)
- View transaction history
- Validation & error handling middleware

## ğŸ› ï¸ Setup

## Installation

To get started with this project locally, follow these instructions:

1. **Clone the repository:**

   ```bash
   git clone https://github.com/novastellaa/qontak-integration.git

2. **Navigate to the project directory:**

   ```bash
   cd qontak-integration

3. Install dependencies:
   ```bash
   npm install

4. Create `.env` file
  ```bash
  SUPABASE_URL=your_supabase_url
  SUPABASE_KEY=your_supabase_key
  PORT=3000
  ```

5. Copy `schema.sql` in your SQL Editor project supabase.

6. Run API
  ```bash
  npm run dev
  ```

## ğŸš€ Endpoints

### Products

- POST /api/products â†’ Create product Body: { "name": "Book", "price": 10000, "stock": 5 }
- GET /api/products â†’ List all products
- GET /api/products/:id â†’ Get product detail
- PUT /api/products/:id â†’ Update product
- DELETE /api/products/:id â†’ Delete product

### Transactions

- POST /api/transactions â†’ Create transaction Body: { "items": [{"product_id": 1, "quantity": 2 },{"product_id": 2, "quantity": 1 }] }
- GET /api/transactions/ â†’ Get all of transaction
- GET /api/transactions/:id â†’ Get detail of one transaction



===================================================


# POS REST API

Sebuah REST API sederhana untuk sistem **Point of Sale (POS)**, dibangun menggunakan **Node.js + Express** dengan database **Supabase (PostgreSQL)**.

Project ini dibuat sebagai syarat test Backend Developer di PT. Cazh Teknologi Inovasi.

---

## âœ¨ Fitur

- **Products**
  - Tambah produk baru
  - Lihat semua produk
  - Lihat detail produk berdasarkan ID
  - Update produk (nama, harga, stok)
  - Hapus produk

- **Transactions**
  - Membuat transaksi baru dengan item produk & kuantitas
  - Update stok otomatis setelah transaksi berhasil
  - Lihat semua transaksi beserta itemnya
  - Lihat detail transaksi berdasarkan ID

- **Validasi**
  - Menggunakan [Zod](https://zod.dev) untuk validasi skema body request
  - Error handling yang rapi untuk menampilkan pesan kesalahan

---

## âš™ï¸ Tech Stack

- **Runtime:** [Node.js](https://nodejs.org/)
- **Framework:** [Express.js](https://expressjs.com/)
- **Database:** [Supabase](https://supabase.com/) (PostgreSQL)
- **ORM/Client:** [@supabase/supabase-js](https://supabase.com/docs/reference/javascript)
- **Validation:**
  - [Zod](https://zod.dev) (skema validasi request)
  - [express-validator](https://express-validator.github.io/docs/) (basic validation rules)
- **Middleware:**
  - `morgan` (HTTP request logger)
  - `cors` (Cross-Origin Resource Sharing)
  - Custom `errorHandler` & `validate` middleware

---

## ğŸ“‚ Struktur Project

src/
â”œâ”€â”€ config/ # Konfigurasi Supabase Client
â”œâ”€â”€ controllers/ # Business logic untuk products & transactions
â”œâ”€â”€ middlewares/ # Error handler & validator middleware
â”œâ”€â”€ models/ # Query ke Supabase
â”œâ”€â”€ routes/ # Endpoint routes
â”œâ”€â”€ schema/ # Skema validasi (Zod)
â””â”€â”€ index.js # Entry point aplikasi

---

## ğŸ› ï¸ Instalasi dan Penggunaan

### 1. Clone Repository

```bash
git clone https://github.com/username/pos-api.git
cd pos-api
```

### 2.  Install Depedencies

```bash
npm install
```

### 3. Setup Environment Variables

```bash
PORT=3000
SUPABASE_URL=your-supabase-url
SUPABASE_KEY=your-supabase-anon-or-service-role-key
```

### 4. Jalankan Server

```bash
npm run dev
```

---

## ğŸš€ API Endpoints

### Products

- POST /api/products â†’ Tambah produk baru

- GET /api/products â†’ Lihat semua produk

- GET /api/products/:id â†’ Lihat produk by ID

- PUT /api/products/:id â†’ Update produk

- DELETE /api/products/:id â†’ Hapus produk

### Transactions

- POST /api/transactions â†’ Buat transaksi baru (otomatis update stok & hitung total)

- GET /api/transactions â†’ Lihat semua transaksi

- GET /api/transactions/:id â†’ Lihat transaksi by ID

---

## ğŸ“„ Contoh Request

### Tambah Produk

```bash
POST /api/products
Content-Type: application/json

{
  "name": "Teh Botol",
  "price": 5000,
  "stock": 50
}
```

### Tambah Transaksi

```bash
POST /api/transactions
Content-Type: application/json

{
  "items": [
    { "product_id": "uuid-produk-1", "quantity": 2 },
    { "product_id": "uuid-produk-2", "quantity": 1 }
  ]
}
```
---

## âœï¸ Author

Muhammad Nova Stella

---
